{% extends "base.html" %}
{% set panel = "Make a Loan" %}
{% block mainblock %}
<div class="col-xl-8 col-sm-8 p-4">
  <div class="card card-common shadow-lg rounded-4">
    <div class="card-header bg-light">
      <h2 class="text-center text-dark fw-bold">MAKE A LOAN</h2>
    </div>

    <div class="card-body">
        <form action="{{ url_for('packageController.make_loan', book_id=book.id) }}" method="post">
        
        <!-- Book Title -->
        <div class="mb-3">
          <label class="form-label fw-bold">Book Title:</label>
          <input type="text" class="form-control" value="{{ book.title }}" readonly>
        </div>

        <!-- Current User -->
        <div class="mb-3">
          <label class="form-label fw-bold">User:</label>
          <input type="text" class="form-control" value="{{ current_user.name }}" readonly>
          <input type="hidden" name="member_id" value="{{ current_user.id }}">
        </div>

        <!-- Borrow Date -->
        <div class="mb-3">
          <label class="form-label fw-bold">Borrow Date:</label>
          <input type="date" name="borrowDate" class="form-control" required>
        </div>

        <!-- Return Date -->
        <div class="mb-3">
          <label class="form-label fw-bold">Return Date:</label>
          <input type="date" name="returnDate" class="form-control" required>
        </div>

        <button type="submit" class="btn btn-primary w-100">Confirm Loan</button>

        {% if message %}
        <div class="alert alert-info">
          {{ message }}
        </div>
        {% endif %} 
      </form>
    </div>
  </div>
</div>
{% endblock %}